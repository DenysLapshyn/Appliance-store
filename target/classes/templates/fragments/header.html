<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/css/navbar.css" rel="stylesheet" type="text/css">
</head>
<body>

<div th:fragment="siteHeader">

    <script>
        function changeLang(lang) {
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.location.href = url.toString();
        }
    </script>

    <form method="post" th:action="@{/logout}" id="logout-form">
    </form>
    <nav>
        <ul style="display: flex;">
            <li><a href="/about" class="headerLink" th:text="#{about}"></a></li>
            <li sec:authorize="isAuthenticated()"><a href="/profile" class="headerLink" th:text="#{profile}"></a></li>
            <li sec:authorize="hasRole('ROLE_USER')"><a href="/cart" class="headerLink" th:text="#{cart}"></a></li>
            <li sec:authorize="hasRole('ROLE_ADMIN')"><a href="/admin" class="headerLink" th:text="#{admin}"></a></li>
            <li><a href="/catalog" class="headerLink" th:text="#{catalog}"></a></li>
            <li sec:authorize="isAuthenticated()">
                <a class="headerLink">
                    <button type="submit" form="logout-form" class="gray" th:text="#{logout}"></button>
                </a>
            </li>
            <li sec:authorize="isAnonymous()"><a th:href="@{~/login}" class="headerLink" th:text="#{login}"></a></li>
            <li sec:authorize="isAnonymous()"><a th:href="@{~/registration}" class="headerLink"
                                                 th:text="#{register}"></a></li>

            <!-- Spacer -->
            <li style="flex-grow: 1;"></li>

            <li>
                <a class="headerLink" href="#" onclick="changeLang('en'); return false;">English</a>
            </li>
            <li class="nav-item">
                <a class="headerLink" href="#" onclick="changeLang('uk'); return false;">Українська</a>
            </li>
        </ul>
    </nav>
    <br>
</div>
</body>
</html>