<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="www.thymeleaf.org/extras/spring-security" lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Add item</title>
        <link href="/css/navbar.css" rel="stylesheet" type="text/css">
        <link href="/css/main-part.css" rel="stylesheet" type="text/css">
        <link href="/css/add-item.css" rel="stylesheet" type="text/css">
        <script src="/js/addRow.js"></script>
        <script src="/js/deleteRow.js"></script>
        <script src="/js/ensureFilesAreImages.js"></script>
        <script src="/js/ensureLogoIsImage.js"></script>
        <script src="/js/resetAddingForm.js"></script>
        <script src="/js/limitNumberOfUploadedFiles.js"></script>
    </head>
    <body>
        
        <header>Admin</header>

        <div th:replace="fragments/header :: siteHeader"></div>
        
        <div class="main-part">
            <form th:action="@{/admin/add-item}" method="post" th:object="${newItemDTO}" enctype="multipart/form-data">
                
                <div class="gray-text-label" th:text="#{add-item.createNewItem}"></div>
                <br>
                
                <div class="add-item-grid">
                    
                    <!-- item name input -->
                    <div>
                        <label for="name" class="gray-text-label" th:text="#{add-item.itemName}"></label>
                    </div>
                    <div>
                        <input name="name" id="name" class="text-field" type="text" th:field="*{name}"
                               placeholder="Enter item name" required>
                        <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="red">Name errors</div>
                    </div>
                    
                    <!-- price input -->
                    <div>
                        <label for="price" class="gray-text-label" th:text="#{add-item.price}"></label>
                    </div>
                    <div>
                        <input name="price" id="price" class="text-field" type="text" th:field="*{price}"
                               placeholder="Enter price" required>
                        <div th:if="${#fields.hasErrors('price')}" th:errors="*{price}" class="red">Price errors</div>
                    </div>
                    
                    <!-- amount input -->
                    <div>
                        <label for="amount" class="gray-text-label" th:text="#{add-item.amount}"></label>
                    </div>
                    <div>
                        <input name="amount" id="amount" class="text-field" type="text" th:field="*{amount}"
                               placeholder="Enter amount" required>
                        <div th:if="${#fields.hasErrors('amount')}" th:errors="*{amount}" class="red">Amount errors</div>
                    </div>
                    
                    <!-- description -->
                    <div>
                        <label for="description" class="gray-text-label" th:text="#{add-item.description}"></label>
                    </div>
                    <div>
                    <textarea name="description" id="description" class="text-field" th:field="*{description}" rows="8"
                              cols="50" placeholder="Enter description"></textarea>
                        <div th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="red">Description errors</div>
                    </div>
                    
                    <!-- logo input -->
                    <div>
                        <label for="logo-input" class="gray-text-label" th:text="#{add-item.logo}"></label>
                    </div>
                    <div>
                        <label for="logo-input" id="logo-input-label" class="image-input-label" th:text="#{add-item.logoButton}"></label>
                    </div>
                    <input name="logo" type="file" id="logo-input" accept="image/*"
                           onchange="ensureLogoIsImage(this)" class="display-none">
                    
                    <!-- images input -->
                    <div>
                        <label for="images-input" class="gray-text-label" th:text="#{add-item.images}"></label>
                    </div>
                    <div>
                        <label for="images-input" id="images-input-label" class="image-input-label" th:text="#{add-item.imagesButton}"></label>
                    </div>
                    <input name="images" type="file" id="images-input" accept="image/*"
                           onchange="ensureFilesAreImages(this); limitNumberOfUploadedFiles(this, 10)"
                           class="display-none" multiple>
                
                </div>
                
                <!-- specs input -->
                <div class="gray-text-label" th:text="#{add-item.specs}"></div>
                <div id="specsForm">
                    <!-- add button inserts rows here to create specs -->
                </div>
                
                <!-- this button adds a new row -->
                <button type="button" onclick="addRow()" class="big-sign">+</button>
                <br>
                
                <!-- reset button -->
                <input id="reset" type="reset" class="red-button" value="Reset" onclick="resetAddingForm()">
                <br>
                
                <!-- send button -->
                <input id="send" type="submit" class="green-button" value="Send">
            </form>
        </div>
    
    </body>
</html>